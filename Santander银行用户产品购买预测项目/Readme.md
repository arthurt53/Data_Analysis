## Santander银行用户产品购买预测项目  
**1、数据集：**  
Santander-product-recommend （经过处理的kaggle数据集，测试集约53万条数据）  
**2、项目成果：**  
（1） 数据探索&数据清洗：在对特征数据进行探索后发现部分特征存在数据缺失的情况，对于缺失值较少的特征，我直接用0或999作为替代进行补入；同时，对于用户特征数据全部缺失的行我直接予以了剔除；对于收入数据，我觉得收入对于新产品类型的购买存在较为显著的影响，故对于缺失值我没有直接采用平均值的方式进行补全，而是用Xgboost先行进行了一次预测，采用预测值作为补全数据。  
（2） 特征构造：在本次项目中我添加了2个新特征作为特征变量（a、use_time特征用以反映用户对于银行的忠诚度，越是老用户越有可能购买小众产品；b、month_label特征用以反应不同产品在不同月度的购买情况）。  
（3） 目标列构造：由于在测试集中每一行给出的是用户当月的产品持有情况，而问题是需要预测用户未来会购买产品的情况；故我对目标数据进行了处理，当某个用户ID首次出现时，我认为该月其持有的产品为其新购买的产品；而后续每个月与上个月进行进行差分，当差分结果为1时表明该用户这个月购买了该产品，当差分结果为-1时表明该用户这个月出售了该产品，当差分结果为0时表明该用户该月未对产品进行操作；由此可以得到新的目标矩阵；在对目标矩阵进行聚合后得到用户新购买产品的标签。由于需要解决的问题是用户新购买不同产品的概率，即隐藏假定是用户一定会购买产品，故我在处理目标列时将不购买产品的行全部删去以减少训练的数据量级。  
（4） 模型训练：采用Xgboost模型进行训练，并输出不同产品的购买概率矩阵，对每行选取概率最高的前七个产品进行输出，得到预测集数据。  
**3、银行产品推荐特征重要性分析：**  
（1）特征重要性可视化呈现：  
![image](https://github.com/arthurt53/RS6-work/blob/master/L17/Action/%E4%B8%8B%E8%BD%BD.png)  
（2）特征可解释性：  
根据特征重要性的可视化呈现可以发现，影响客户产品选择的前五大因素分别为：收入、银行使用时间、年龄、用户id以及客户资历，这个结果与常识是相符的。  
a、收入：不同收入层次的客户对于银行产品的需求必然会有所差异，工薪阶层的客户可能会对活期、理财等产品有需求、而高净值客户则可能会对信托、私募等产品有更高的需求；    
b、银行使用时间、客户资历：这两个因素反应的是用户对于银行的忠诚度以及信任程度，对于具有较长使用期限的客户其可能基于对银行的信任购买稍微超出其风险偏好的产品，而对于新客户则更多会选取更为保守的产品；  
c、年龄：不同年龄段的客户对于产品需求也会产生不同的差异，年轻客户的风险偏好会高于年长的客户，故更为进取型的产品会更符合年轻客户的需求；  
d、用户ID：由于解决的是用户下一个月的产品推荐问题，用户过去的购买行为一定程度上会对其后续的产品购买产生较大影响。  
